## actix-web的使用
### 上手
actix-web使用一个HttpServer+多个App来完成功能，而且是一个线程一个App，也就是一个后端服务可能存在多个小App实例。同时因为路由之后的处理都是在App里进行的，所以不同的App之间的同名handler可能是不同的，这就涉及到数据共享(其实就是多线程数据共享问题)。但是这里需要注意，不同的App实例都是同样的结构，不是多个不同结构的App实例。

此外，actix-web还支持类似Gin的中间件功能，也支持类似Gin的group，即路由组功能。后端服务是围绕App实例构建的，每一个App可以拥有多个handler，同时同一个App内部的多个handler可以共享同一个作用域，或者说资源组，即Scope。位于同一个资源组的handler拥有一样的请求前缀。

这里说一下route，service，resource，scope，handler的区别：
 - handler：route内部处理业务的部分，一般handler和route是一个意思
 - route：表示一个包含拦截器(guard)的handler
 - resource：route集合，一般用来组织不同请求方法的同一URL路径下的不同route
 - scope：resource集合，也可以是route几个，用来组织多个拥有相同URL前缀的resource/route
 - service：表示一个完整的服务，可以由上面的三个混搭组成

此外，前面提到了同一个scope下的多个route可以共享状态，而一个后端服务可能有多个App，纯粹的在scope设置共享数据只能实现App内多个handler共享，想要实现App间共享，需要在App::new之外创建状态变量，然后通过Arc+Mutex等方式实现共享。

所谓的guard类似一种拦截器，它定义了请求需要满足的前置条件，只有满足时，和它绑定的route才会被调用。同时actix-web也支持配置切分，即切分公共配置实现复用。